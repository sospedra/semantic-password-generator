import t from"compromise";import e from"unfetch";import{decode as r}from"ent";import n from"lodash.random";import o from"lodash.isnumber";import a from"lodash.identity";const i=/<\/?[^>]+(>|$)/g,s=/[^\x20-\xFF]/g,c=["generator=random","grnnamespace=0","prop=extracts","exchars=500","format=json","origin=*"].join("&"),u=t=>{const{pages:e}=t.query,{extract:n}=e[Object.keys(e)[0]];return r(n.replace(i,"").replace(s,""))},m=[0,0];var l=t=>function(e){const r=e.split(" "),n=r.map(t=>[t,t.length]).reduce((t,[e,r])=>t.concat([[e,r+(t[t.length-1]||m)[1]]]),[]).filter(([e,r])=>r<t).length;return r.slice(0,n+1).join(" ")};const p=(t=50)=>100*Math.random()<Math.min(t,100),h={a:4,b:8,e:3,g:9,l:1,o:0,s:5,t:7,z:2},f=()=>p(90)?"":String.fromCharCode(n(37,126)),g="@#$%{}[]()/~,;:><.".split(""),d=/ /g,j=[""],x={case:!1,length:24,leet:!1,random:!1,symbols:!1};export default function(){try{return Promise.resolve(function(){try{return Promise.resolve(e("https://en.wikipedia.org/w/api.php?action=query&"+c)).then(function(t){return t.status>=400&&new Error(`Request failed. Code: ${t.status}. Text: ${t.statusText}`),Promise.resolve(t.json()).then(u)})}catch(t){return Promise.reject(t)}}()).then(function(e){return function(e=j){const r=(t=>t.reduce((t,{length:e})=>e>t?e:t,Number.MIN_SAFE_INTEGER))(e);return function(i){const s=((t={})=>({...x,...o(t)?{length:t}:t}))(i),c=((t,e)=>Math.min((t=>Math.max(t,8))(t),e))(s.length,r),u=e.filter(t=>t.length>=c),m=u[n(u.length-1)];return m?[function(e){return t(e).normalize().out()},l(c),s.leet&&function(t){return t.split("").map(t=>[t,h[t.toLowerCase()]]).map(([t,e])=>e&&p(10)?e:t).join("")},s.case&&function(t){return t.split("").map(t=>p(25)?t.toUpperCase():t).join("")},s.random&&function(t){return t.split(" ").map(t=>`${f()}${t}${f()}`).join(" ")},(j=s.symbols,function(t){return t.replace(d,()=>j?p()?g[n(g.length-1)]:"":".")})].map(t=>t||a).reduce((t,e)=>e(t),m):null;var j}}(t(e).sentences().out("array"))})}catch(t){return Promise.reject(t)}}
//# sourceMappingURL=index.module.js.map
