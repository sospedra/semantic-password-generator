import t from"unfetch";import e from"wink-nlp-utils";import r from"lodash.deburr";import n from"lodash.random";import o from"lodash.isnumber";import s from"lodash.identity";const i=["generator=random","grnnamespace=0","prop=extracts","exchars=500","format=json","origin=*"].join("&"),a=[0,0];var u=t=>function(e){const r=e.split(" "),n=r.map(t=>[t,t.length]).reduce((t,[e,r])=>t.concat([[e,r+(t[t.length-1]||a)[1]]]),[]).filter(([e,r])=>r<t).length;return r.slice(0,n+1).join(" ")};const c=(t=50)=>100*Math.random()<Math.min(t,100),m={a:4,b:8,e:3,g:9,l:1,o:0,s:5,t:7,z:2},l=()=>c(90)?"":String.fromCharCode(n(37,126)),p="@#$%{}[]()/~,;:><.".split(""),h=/ /g,f=[""],g={case:!1,length:24,leet:!1,random:!1,symbols:!1};export default function(){try{return Promise.resolve(function(){try{return Promise.resolve(t("https://en.wikipedia.org/w/api.php?action=query&"+i)).then(function(t){return t.status>=400&&new Error(`Request failed. Code: ${t.status}. Text: ${t.statusText}`),Promise.resolve(t.json()).then(function({query:{pages:t}}){return t[Object.keys(t)[0]].extract})})}catch(t){return Promise.reject(t)}}()).then(function(t){return function(t=f){const e=(t=>t.reduce((t,{length:e})=>e>t?e:t,Number.MIN_SAFE_INTEGER))(t);return function(r){const i=((t={})=>({...g,...o(t)?{length:t}:t}))(r),a=((t,e)=>Math.min((t=>Math.max(t,8))(t),e))(i.length,e),f=t.filter(t=>t.length>=a),d=f[n(f.length-1)];return d?[u(a),i.leet&&function(t){return t.split("").map(t=>[t,m[t.toLowerCase()]]).map(([t,e])=>e&&c(10)?e:t).join("")},i.case&&function(t){return t.split("").map(t=>c(25)?t.toUpperCase():t).join("")},i.random&&function(t){return t.split(" ").map(t=>`${l()}${t}${l()}`).join(" ")},(j=i.symbols,function(t){return t.replace(h,()=>j?c()?p[n(p.length-1)]:"":".")})].map(t=>t||s).reduce((t,e)=>e(t),d):null;var j}}([e.string.removeHTMLTags,e.string.removeExtraSpaces,r,e.string.sentences].reduce((t,e)=>e(t),t).map(e.string.removePunctuations))})}catch(t){return Promise.reject(t)}}
//# sourceMappingURL=index.module.js.map
