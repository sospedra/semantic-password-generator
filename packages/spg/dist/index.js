function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("compromise")),r=e(require("unfetch")),n=require("ent"),o=e(require("lodash.random")),a=e(require("lodash.isnumber")),i=e(require("lodash.identity"));const u=/<\/?[^>]+(>|$)/g,s=/[^\x20-\xFF]/g,c=["generator=random","grnnamespace=0","prop=extracts","exchars=500","format=json","origin=*"].join("&"),l=e=>{const{pages:t}=e.query,{extract:r}=t[Object.keys(t)[0]];return n.decode(r.replace(u,"").replace(s,""))},m=[0,0];var p=e=>function(t){const r=t.split(" "),n=r.map(e=>[e,e.length]).reduce((e,[t,r])=>e.concat([[t,r+(e[e.length-1]||m)[1]]]),[]).filter(([t,r])=>r<e).length;return r.slice(0,n+1).join(" ")};const h=(e=50)=>100*Math.random()<Math.min(e,100),f={a:4,b:8,e:3,g:9,l:1,o:0,s:5,t:7,z:2},d=()=>h(90)?"":String.fromCharCode(o(37,126)),g="@#$%{}[]()/~,;:><.".split(""),j=/ /g,y=[""],q={case:!1,length:24,leet:!1,random:!1,symbols:!1};module.exports=function(){try{return Promise.resolve(function(){try{return Promise.resolve(r("https://en.wikipedia.org/w/api.php?action=query&"+c)).then(function(e){return e.status>=400&&new Error(`Request failed. Code: ${e.status}. Text: ${e.statusText}`),Promise.resolve(e.json()).then(l)})}catch(e){return Promise.reject(e)}}()).then(function(e){return function(e=y){const r=(e=>e.reduce((e,{length:t})=>t>e?t:e,Number.MIN_SAFE_INTEGER))(e);return function(n){const u=((e={})=>({...q,...a(e)?{length:e}:e}))(n),s=((e,t)=>Math.min((e=>Math.max(e,8))(e),t))(u.length,r),c=e.filter(e=>e.length>=s),l=c[o(c.length-1)];return l?[function(e){return t(e).normalize().out()},p(s),u.leet&&function(e){return e.split("").map(e=>[e,f[e.toLowerCase()]]).map(([e,t])=>t&&h(10)?t:e).join("")},u.case&&function(e){return e.split("").map(e=>h(25)?e.toUpperCase():e).join("")},u.random&&function(e){return e.split(" ").map(e=>`${d()}${e}${d()}`).join(" ")},(m=u.symbols,function(e){return e.replace(j,()=>m?h()?g[o(g.length-1)]:"":".")})].map(e=>e||i).reduce((e,t)=>t(e),l):null;var m}}(t(e).sentences().out("array"))})}catch(e){return Promise.reject(e)}};
//# sourceMappingURL=index.js.map
